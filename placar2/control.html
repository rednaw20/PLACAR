<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Controle do Placar</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f2f2f2;
      color: #333;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 30px;
    }
    .iframe-container {
      text-align: center;
      margin-bottom: 20px;
    }
    iframe {
      border: 2px solid #000;
      width: 320px;
      height: 180px;
    }
    .controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .group {
      background-color: #fff;
      border: 1px solid #ccc;
      border-radius: 12px;
      padding: 15px;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
    }
    .group h3 {
      margin-top: 0;
      margin-bottom: 10px;
      font-size: 1.1em;
    }
    .group button, .group input, .group select {
      display: block;
      width: 100%;
      margin: 5px 0;
      padding: 8px;
      font-size: 1em;
      border-radius: 8px;
      border: 1px solid #999;
    }
    .group button {
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    .group button:hover {
      background-color: #0056b3;
    }
    .bottom-section {
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <h1>Painel de Controle</h1>

  <div class="iframe-container">
    <iframe src="placar.html"></iframe>
  </div>

  <div class="controls">
    <div class="group">
      <h3>Pontos Equipe 1</h3>
      <button onclick="enviar('ponto1', '0')">0</button>
      <button onclick="enviar('ponto1', '15')">15</button>
      <button onclick="enviar('ponto1', '30')">30</button>
      <button onclick="enviar('ponto1', '40')">40</button>
      <button onclick="enviar('game1')">Game</button>
    </div>

    <div class="group">
      <h3>Pontos Equipe 2</h3>
      <button onclick="enviar('ponto2', '0')">0</button>
      <button onclick="enviar('ponto2', '15')">15</button>
      <button onclick="enviar('ponto2', '30')">30</button>
      <button onclick="enviar('ponto2', '40')">40</button>
      <button onclick="enviar('game2')">Game</button>
    </div>

    <div class="group">
      <h3>Sets</h3>
      <button onclick="enviar('set1+', '')">+1 Equipe 1</button>
      <button onclick="enviar('set1-', '')">-1 Equipe 1</button>
      <button onclick="enviar('set2+', '')">+1 Equipe 2</button>
      <button onclick="enviar('set2-', '')">-1 Equipe 2</button>
    </div>

    <div class="group">
      <h3>Tie-Break</h3>
      <button onclick="enviar('tiebreak1+', '')">+1 Equipe 1</button>
      <button onclick="enviar('tiebreak1-', '')">-1 Equipe 1</button>
      <button onclick="enviar('tiebreak2+', '')">+1 Equipe 2</button>
      <button onclick="enviar('tiebreak2-', '')">-1 Equipe 2</button>
    </div>

    <div class="group">
      <h3>Break Point</h3>
      <button onclick="enviar('break1')">Break Point Equipe 1</button>
      <button onclick="enviar('break2')">Break Point Equipe 2</button>
      <button onclick="enviar('breakOff')">Desativar Break Point</button>
    </div>

    <div class="group">
      <h3>Outros</h3>
      <button onclick="enviar('reset')">Resetar Placar</button>
    </div>
  </div>

  <div class="bottom-section group">
    <h3>Atualizar Textos e Nomes</h3>
    <input type="text" id="nome1" placeholder="Nome Equipe 1" />
    <input type="text" id="nome2" placeholder="Nome Equipe 2" />
    <input type="text" id="textoSuperior" placeholder="Texto Superior" />
    <input type="text" id="textoInferior" placeholder="Texto Inferior" />
    <button onclick="atualizarNomes()">Atualizar</button>
  </div>

  <script>
    const canal = new BroadcastChannel("placar");

    function enviar(tipo, valor = "") {
      canal.postMessage({ tipo, valor });
    }

    function atualizarNomes() {
      enviar('nome1', document.getElementById('nome1').value);
      enviar('nome2', document.getElementById('nome2').value);
      enviar('textoSuperior', document.getElementById('textoSuperior').value);
      enviar('textoInferior', document.getElementById('textoInferior').value);
    }
  </script>
</body>
</html>