<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Controle Placar Beach Tennis</title>
  <style>
    body {
      background-color: #111;
      color: #eee;
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 800px;
      margin: auto;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    iframe {
      width: 100%;
      height: 250px;
      border: 2px solid #39ff14;
      border-radius: 10px;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }

    .controls button, .input-group input {
      padding: 10px;
      font-size: 1em;
      border: none;
      border-radius: 5px;
    }

    button {
      background-color: #39ff14;
      color: #000c60;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      opacity: 0.9;
    }

    .input-group {
      display: flex;
      flex-direction: column;
      margin-top: 10px;
      gap: 5px;
    }

    .section-title {
      margin-top: 30px;
      text-align: center;
      color: #39ff14;
      font-weight: bold;
      font-size: 1.2em;
    }

    .inputs-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <iframe src="placar.html"></iframe>

    <div class="controls">
      <!-- Pontuação -->
      <button onclick="setPoints(1, 0)">0 T1</button>
      <button onclick="setPoints(1, 15)">15 T1</button>
      <button onclick="setPoints(1, 30)">30 T1</button>
      <button onclick="setPoints(1, 40)">40 T1</button>

      <button onclick="setPoints(2, 0)">0 T2</button>
      <button onclick="setPoints(2, 15)">15 T2</button>
      <button onclick="setPoints(2, 30)">30 T2</button>
      <button onclick="setPoints(2, 40)">40 T2</button>
    </div>

    <div class="controls">
      <!-- Sets -->
      <button onclick="changeSet(1, 1)">+1 Set T1</button>
      <button onclick="changeSet(1, -1)">-1 Set T1</button>
      <button onclick="changeSet(2, 1)">+1 Set T2</button>
      <button onclick="changeSet(2, -1)">-1 Set T2</button>
    </div>

    <div class="controls">
      <!-- Comandos adicionais -->
      <button onclick="setBreakPoint(true)">Break Point ON</button>
      <button onclick="setBreakPoint(false)">Break Point OFF</button>

      <button onclick="setServing(1)">Saque T1</button>
      <button onclick="setServing(2)">Saque T2</button>

      <button onclick="startTimer()">Iniciar Cronômetro</button>
      <button onclick="stopTimer()">Parar Cronômetro</button>

      <button onclick="resetGamePoints()">Reset Game</button>
      <button onclick="resetScore()">Reset Placar</button>
    </div>

    <div class="section-title">Atualizar Textos e Nomes</div>
    <div class="inputs-container">
      <div class="input-group">
        <label>Nome Dupla 1</label>
        <input id="dupla1" placeholder="Ex: João / Maria">
        <button onclick="sendName(1)">Atualizar</button>
      </div>

      <div class="input-group">
        <label>Nome Dupla 2</label>
        <input id="dupla2" placeholder="Ex: Pedro / Ana">
        <button onclick="sendName(2)">Atualizar</button>
      </div>

      <div class="input-group">
        <label>Texto Superior</label>
        <input id="topText" placeholder="Ex: MASCULINO B">
        <button onclick="updateTopText()">Atualizar</button>
      </div>

      <div class="input-group">
        <label>Texto Inferior</label>
        <input id="bottomText" placeholder="Ex: CIRCUITO ARENA BEACH">
        <button onclick="updateBottomText()">Atualizar</button>
      </div>
    </div>
  </div>

  <script>
    const channel = new BroadcastChannel('beachTennisScore');

    function setPoints(team, value) {
      channel.postMessage({ type: 'points', team, value });
    }

    function changeSet(team, change) {
      channel.postMessage({ type: 'sets', team, change });
    }

    function sendName(team) {
      const value = document.getElementById(`dupla${team}`).value;
      if (value) channel.postMessage({ type: 'name', team, value });
    }

    function updateTopText() {
      const value = document.getElementById('topText').value;
      channel.postMessage({ type: 'topText', value });
    }

    function updateBottomText() {
      const value = document.getElementById('bottomText').value;
      channel.postMessage({ type: 'bottomText', value });
    }

    function setServing(team) {
      channel.postMessage({ type: 'serving', team });
    }

    function setBreakPoint(value) {
      channel.postMessage({ type: 'breakPoint', value });
    }

    function startTimer() {
      channel.postMessage({ action: 'startTimer' });
    }

    function stopTimer() {
      channel.postMessage({ action: 'stopTimer' });
    }

    function resetGamePoints() {
      channel.postMessage({ action: 'resetGamePoints' });
    }

    function resetScore() {
      channel.postMessage({ action: 'resetScore' });
    }
  </script>
</body>
</html>