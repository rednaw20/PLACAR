<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Placar Beach Tennis</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Open+Sans:wght@400;700&display=swap');

    :root {
      --cor-fundo: #1e1e1e;
      --cor-texto: #f0f0f0;
      --cor-principal: #39ff14;
      --cor-secundaria: #000c60;
      --cor-destaque: #add8e6;
      --cor-set: #ffffff;
      --cor-set-texto: #000c60;
      --cor-botao-ativo: #ff9800;
      --font-nome: 'Open Sans', sans-serif;
      --font-numeros: 'Roboto Mono', monospace;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background-color: var(--cor-fundo);
      color: var(--cor-texto);
      font-family: var(--font-nome);
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      min-height: 100vh;
    }

    .placar {
      background: #2c2c2c;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      overflow: hidden;
      max-width: 800px;
      width: 100%;
      display: grid;
      grid-template-rows: auto auto 1fr auto;
    }

    .topo, .rodape {
      background: var(--cor-secundaria);
      color: var(--cor-principal);
      padding: 0.8rem;
      text-align: center;
    }

    .jogadores {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr;
      padding: 0.5rem;
      gap: 0.5rem;
    }

    .jogador {
      background: #fff;
      color: var(--cor-secundaria);
      border-radius: 8px;
      padding: 0.5rem;
      font-weight: bold;
      font-size: 1.2rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .pontuacao, .sets {
      font-family: var(--font-numeros);
      font-size: 2rem;
      background: var(--cor-secundaria);
      color: var(--cor-principal);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .pontuacao.ativo, .sets.ativo {
      background: var(--cor-botao-ativo);
      color: #fff;
    }

    .linha {
      display: contents;
    }

    .info-extra {
      text-align: center;
      padding: 0.5rem;
      background: var(--cor-destaque);
      color: var(--cor-secundaria);
      font-size: 0.9rem;
    }

    @media (max-width: 600px) {
      .jogadores {
        grid-template-columns: 1fr 1fr;
        grid-template-areas:
          "nome nome"
          "ponto set";
      }
      .jogador { grid-area: nome; }
    }
  </style>
</head>
<body>
  <div class="placar">
    <div class="topo" id="cronometro">00:00</div>
    <div class="topo" id="categoria">FEMININO D</div>

    <div class="linha">
      <div class="jogadores">
        <div class="jogador" id="jogador1">DID√Å / GESIENE</div>
        <div class="pontuacao" id="pontos1">0</div>
        <div class="sets" id="sets1">0</div>
      </div>
    </div>

    <div class="linha">
      <div class="jogadores">
        <div class="jogador" id="jogador2">MATHEUS / ANA PAULA</div>
        <div class="pontuacao" id="pontos2">0</div>
        <div class="sets" id="sets2">0</div>
      </div>
    </div>

    <div class="rodape" id="circuito">CIRCUITO ARENA BEACH</div>
    <div class="info-extra" id="breakpoint" style="display: none;">BREAK POINT</div>
  </div>

  <script>
    let tempo = 0;
    let intervalo;

    const cronometro = document.getElementById('cronometro');
    const pontos1 = document.getElementById('pontos1');
    const pontos2 = document.getElementById('pontos2');
    const sets1 = document.getElementById('sets1');
    const sets2 = document.getElementById('sets2');

    function atualizarCronometro() {
      tempo++;
      const min = String(Math.floor(tempo / 60)).padStart(2, '0');
      const seg = String(tempo % 60).padStart(2, '0');
      cronometro.textContent = `${min}:${seg}`;
    }

    function iniciarCronometro() {
      intervalo = setInterval(atualizarCronometro, 1000);
    }

    function resetarCronometro() {
      clearInterval(intervalo);
      tempo = 0;
      cronometro.textContent = '00:00';
    }

    pontos1.addEventListener('click', () => toggleBotao(pontos1));
    pontos2.addEventListener('click', () => toggleBotao(pontos2));
    sets1.addEventListener('click', () => toggleBotao(sets1));
    sets2.addEventListener('click', () => toggleBotao(sets2));

    function toggleBotao(botao) {
      botao.classList.toggle('ativo');
    }

    // BroadcastChannel
    const canal = new BroadcastChannel('beachTennisScore');

    canal.onmessage = (e) => {
      const d = e.data;

      if (d.type === 'name') {
        if (d.team === 1) jogador1.textContent = d.value;
        if (d.team === 2) jogador2.textContent = d.value;
      }
      if (d.type === 'points') {
        if (d.team === 1) pontos1.textContent = d.value;
        if (d.team === 2) pontos2.textContent = d.value;
      }
      if (d.type === 'sets') {
        if (d.team === 1) sets1.textContent = d.value;
        if (d.team === 2) sets2.textContent = d.value;
      }
      if (d.type === 'topText') categoria.textContent = d.value;
      if (d.type === 'bottomText') circuito.textContent = d.value;
      if (d.type === 'breakPoint') breakpoint.style.display = d.value ? 'block' : 'none';

      if (d.action === 'startTimer') iniciarCronometro();
      if (d.action === 'stopTimer') resetarCronometro();
    };
  </script>
</body>
</html>
